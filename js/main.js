function playerSymbol(e){humSymbol=e.charAt(0),"X"==(comSymbol=e.charAt(1))&&callAI()}function setDifficulty(e){difficulty=e.value}function reset(){for(var e=0;e<9;e++)squares[e].innerHTML="",state[e]=0;game=!0,humSymbol="X",comSymbol="O",document.getElementById("win").style.display="none",document.getElementById("lose").style.display="none",document.getElementById("draw").style.display="none"}function take(e){if(game)for(var t=0;t<9;t++)squares[t]==e&&0==state[t]&&(set(t,human),callAI())}function set(e,t){game&&0==state[e]&&(t==human?(squares[e].style.color="#22f",squares[e].innerHTML=humSymbol,state[e]=HUMVAL):(squares[e].style.color="#f22",squares[e].innerHTML=comSymbol,state[e]=COMVAL),!checkWin(state,t)&&checkFull(state)&&(document.getElementById("draw").style.display="block",draw.play()),checkWin(state,t)&&(t==human?(document.getElementById("win").style.display="block",win.play()):(document.getElementById("lose").style.display="block",lose.play()),game=!1))}function checkWin(e,t){for(var n=t==human?HUMVAL:COMVAL,a=0;a<8;a++){for(var o=!0,i=0;i<3;i++)if(e[winMatrix[a][i]]!=n){o=!1;break}if(o)return!0}return!1}function checkFull(e){for(var t=0;t<9;t++)if(0==e[t])return!1;return!0}function callAI(){return"easy"==difficulty?void randomMove():"medium"==difficulty?100*Math.random()<=50?void miniMax(state,0,computer):void randomMove():void miniMax(state,0,computer)}function getEmpties(){empties=[];for(var e=0;e<9;e++)0==state[e]&&empties.push(e)}function randomMove(){getEmpties(),set(empties[Math.floor(Math.random()*empties.length)],computer)}function miniMax(e,t,n){if(checkWin(e,!n))return-10+t;if(checkFull(e))return 0;for(var a=n==human?HUMVAL:COMVAL,o=-(1/0),i=0,m=0;m<9;m++)if(0==e[m]){var l=e.slice();l[m]=a;var s=-miniMax(l,t+1,!n);s>o&&(o=s,i=m)}return 0==t&&set(i,computer),o}var squares=document.getElementsByClassName("square"),state=[0,0,0,0,0,0,0,0,0],game=!0,human=!1,computer=!0,HUMVAL=-1,COMVAL=1,humSymbol="X",comSymbol="O",difficulty="easy",empties=[],winMatrix=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],win=new Audio("/tictactoe/media/win.mp3"),lose=new Audio("/tictactoe/media/lose.mp3"),draw=new Audio("/tictactoe/media/draw.mp3");document.getElementById("win").style.display="none",document.getElementById("lose").style.display="none",document.getElementById("draw").style.display="none";