function playerSymbol(t){humSymbol=t.charAt(0),"X"==(comSymbol=t.charAt(1))&&callAI()}function reset(){for(var t=0;t<9;t++)tiles[t].innerHTML="&nbsp",state[t]=0;for(var e=0;e<2;e++)buttons[e].style.width="15.5vh",buttons[e].style.margin="0.5vh",buttons[e].style.opacity="1";game=!0}function claim(t){if(game)for(var e=0;e<9;e++)tiles[e]==t&&0==state[e]&&(set(e,HUMAN),callAI())}function set(t,e){game&&0==state[t]&&(buttons[0].style.width="0",buttons[0].style.margin="0",buttons[0].style.opacity="0",buttons[1].style.width="32vh",e==HUMAN?(tiles[t].style.color="#22f",tiles[t].innerHTML=humSymbol,state[t]=HUMVAL):(tiles[t].style.color="#f22",tiles[t].innerHTML=comSymbol,state[t]=COMVAL),checkWin(state,e)&&(game=!1))}function checkWin(t,e){for(var n=e==HUMAN?HUMVAL:COMVAL,i=0;i<8;i++){for(var r=!0,a=0;a<3;a++)if(t[winMatrix[i][a]]!=n){r=!1;break}if(r)return!0}return!1}function checkFull(t){for(var e=0;e<9;e++)if(0==t[e])return!1;return!0}function callAI(){miniMax(state,0,COMPUTER)}function miniMax(t,e,n){if(checkWin(t,!n))return-10+e;if(checkFull(t))return 0;for(var i=n==HUMAN?HUMVAL:COMVAL,r=-(1/0),a=0,s=0;s<9;s++)if(0==t[s]){var l=t.slice();l[s]=i;var o=-miniMax(l,e+1,!n);o>r&&(r=o,a=s)}return 0==e&&set(a,COMPUTER),r}var tiles=document.getElementsByClassName("tile"),buttons=document.getElementsByClassName("button"),state=[0,0,0,0,0,0,0,0,0],game=!0,HUMAN=!1,COMPUTER=!0,HUMVAL=-1,COMVAL=1,humSymbol="X",comSymbol="O",winMatrix=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];